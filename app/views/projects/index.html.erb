<section class="Projects">
  <div class="container">
    <h1>Projects</h1>
    <% @projects.each do |project| %>
      <div class="row">
        <h3>
          <%= project.title %>
        </h3>
      </div>
      <% unless project.tags.empty? %>
        <div class="row">
          <ul>
            <% project.tags.each do |tag| %>
            <li>
              <%= tag.name %>
              <% if current_user.try(:admin?) %>
                <%= link_to "edit", edit_tag_path(tag, :project_id => project.id), 
                                    class: "btn btn-xs btn-primary" %>
                <%= link_to "delete", tag_path(tag), method: :delete, 
                                      data: { confirm: "Are you sure you want to delete?" },
                                      class: "btn btn-xs btn-danger" %>
              <% end %>
            </li>
            <% end %>
          </ul>
        </div>
      <% end %>
      <div class="row">
        <%= project.description %>
      </div>
      <div class="row">
        <%= link_to "Production link", project.website_url %>
        <% unless project.github_url.nil? %>
          <%= link_to "Github link", project.github_url %>
        <% end %>
      </div>
      <% if current_user.try(:admin?) %>
        <%= link_to "New Tag", new_tag_path(:project_id => project.id), class: "btn btn-xs btn-primary" %>
        <%= link_to "edit", edit_project_path(project), class: "btn btn-xs btn-primary" %>
        <%= link_to "delete", project_path(project), method: :delete, 
                              data: { confirm: "Are you sure you want to delete?" },
                              class: "btn btn-xs btn-danger" %>
      <% end %>
    <% end %>
  </div>
</div>